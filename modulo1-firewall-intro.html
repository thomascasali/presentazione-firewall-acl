<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modulo 1 - Fondamenti Firewall</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0e17; color: #f1f5f9; font-family: 'Inter', sans-serif; -webkit-text-size-adjust: 100%; }
    #root { min-height: 100vh; min-height: 100dvh; }

    /* Responsive Typography */
    @media (max-width: 1024px) {
      html { font-size: 15px; }
    }
    @media (max-width: 768px) {
      html { font-size: 14px; }
    }
    @media (max-width: 480px) {
      html { font-size: 13px; }
    }

    /* Navigation Responsive */
    @media (max-width: 768px) {
      .nav-module-name { display: none !important; }
      .nav-bar { padding: 0 12px !important; height: 44px !important; }
      .nav-bar a, .nav-bar span { font-size: 11px !important; }
      .nav-bar .progress-bar { width: 60px !important; }
      .bottom-nav { height: 54px !important; gap: 8px !important; padding: 0 8px !important; }
      .bottom-nav button, .bottom-nav a { padding: 8px 14px !important; font-size: 12px !important; }
    }
    @media (max-width: 480px) {
      .nav-bar { height: 40px !important; }
      .bottom-nav { height: 50px !important; flex-wrap: wrap !important; }
      .bottom-nav button, .bottom-nav a { padding: 6px 12px !important; font-size: 11px !important; }
    }

    /* Slide Content Responsive */
    @media (max-width: 768px) {
      .slide-wrapper { padding: 0 16px !important; }
      .slide-wrapper > div { padding: 20px !important; }
      .slide-wrapper h1 { font-size: 28px !important; }
      .slide-wrapper h2 { font-size: 20px !important; }
      .slide-wrapper h3 { font-size: 16px !important; }
      .slide-wrapper p { font-size: 14px !important; }
      .slide-wrapper svg { max-width: 100% !important; height: auto !important; }
    }
    @media (max-width: 480px) {
      .slide-wrapper { padding: 0 12px !important; }
      .slide-wrapper > div { padding: 16px !important; }
      .slide-wrapper h1 { font-size: 24px !important; }
      .slide-wrapper h2 { font-size: 18px !important; }
      .slide-wrapper h3 { font-size: 15px !important; }
    }

    /* Grid Layouts Responsive */
    @media (max-width: 768px) {
      [style*="gridTemplateColumns"] { grid-template-columns: 1fr !important; }
    }

    /* Buttons and Inputs Responsive */
    @media (max-width: 768px) {
      button, input, select { font-size: 14px !important; min-height: 44px; }
      input, select { padding: 10px !important; }
    }

    /* Code Blocks Responsive */
    @media (max-width: 768px) {
      pre { font-size: 11px !important; padding: 12px !important; }
    }
    @media (max-width: 480px) {
      pre { font-size: 10px !important; padding: 10px !important; }
    }

    /* Tables Responsive */
    @media (max-width: 768px) {
      table { font-size: 11px !important; }
      th, td { padding: 8px 6px !important; }
    }

    /* Title Slide Responsive */
    @media (max-width: 768px) {
      .title-slide { padding: 40px 20px !important; min-height: 60vh !important; }
      .title-slide .icon { font-size: 40px !important; }
      .title-slide h1 { font-size: 32px !important; }
      .title-slide p { font-size: 16px !important; }
    }
    @media (max-width: 480px) {
      .title-slide { padding: 30px 16px !important; }
      .title-slide h1 { font-size: 26px !important; }
      .title-slide p { font-size: 14px !important; }
    }

    /* Simulator Components Responsive */
    @media (max-width: 768px) {
      .simulator-container { padding: 16px !important; }
      .simulator-container h3 { font-size: 16px !important; }
      .simulator-container button { padding: 10px 16px !important; font-size: 12px !important; }
    }
    @media (max-width: 480px) {
      .simulator-container { padding: 12px !important; }
      .simulator-container button { width: 100% !important; margin-bottom: 8px !important; }
    }

    /* Fixed Navigation Override */
    @media (max-width: 768px) {
      [style*="position: fixed"][style*="top: 0"] { height: 44px !important; padding: 0 12px !important; }
      [style*="position: fixed"][style*="bottom: 0"] { height: 54px !important; gap: 8px !important; padding: 0 10px !important; }
      [style*="position: fixed"] a, [style*="position: fixed"] button {
        padding: 8px 14px !important;
        font-size: 12px !important;
      }
      [style*="paddingTop: '50px'"], [style*="paddingTop: \"50px\""] { padding-top: 44px !important; }
      [style*="paddingBottom: '70px'"], [style*="paddingBottom: \"70px\""] { padding-bottom: 54px !important; }
    }
    @media (max-width: 480px) {
      [style*="position: fixed"][style*="top: 0"] { height: 40px !important; }
      [style*="position: fixed"][style*="bottom: 0"] { height: 50px !important; }
      [style*="position: fixed"] a, [style*="position: fixed"] button {
        padding: 6px 10px !important;
        font-size: 11px !important;
      }
      [style*="width: '100px'"] { width: 50px !important; }
    }

    /* Flex Wrap for Buttons */
    @media (max-width: 480px) {
      [style*="display: 'flex'"][style*="gap"] { flex-wrap: wrap !important; }
    }

    /* ========== LARGE SCREEN OPTIMIZATIONS ========== */
    @media (min-width: 1600px) {
      html { font-size: 18px; }
      h1 { font-size: 52px !important; }
      h2 { font-size: 32px !important; }
      h3 { font-size: 22px !important; }
      p, li { font-size: 18px !important; line-height: 1.7 !important; }
      pre { font-size: 15px !important; }
      button { font-size: 16px !important; padding: 14px 28px !important; }
      svg { min-height: 200px; }
    }

    @media (min-width: 2000px) {
      html { font-size: 20px; }
      h1 { font-size: 60px !important; }
      h2 { font-size: 38px !important; }
      h3 { font-size: 26px !important; }
      p, li { font-size: 20px !important; }
      pre { font-size: 16px !important; padding: 20px !important; }
      button { font-size: 18px !important; padding: 16px 32px !important; }
      svg { min-height: 250px; }
    }

    @media (min-width: 2400px) {
      html { font-size: 22px; }
      h1 { font-size: 68px !important; }
      h2 { font-size: 44px !important; }
      h3 { font-size: 30px !important; }
      p, li { font-size: 22px !important; }
      pre { font-size: 18px !important; }
      svg { min-height: 300px; }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    const colors = {
      bg: '#0a0e17', bgCard: '#111827', bgLight: '#1e293b',
      accent: '#f59e0b', accentAlt: '#fbbf24',
      text: '#f1f5f9', textDim: '#94a3b8', textMuted: '#64748b',
      border: '#334155',
      success: '#22c55e', danger: '#ef4444', warn: '#f59e0b', info: '#0ea5e9', purple: '#a78bfa'
    };

    const Code = ({ children, title }) => (
      <div style={{ background: '#0d1117', borderRadius: '8px', border: `1px solid ${colors.border}`, margin: '12px 0', overflow: 'hidden' }}>
        {title && <div style={{ background: '#161b22', padding: '8px 16px', borderBottom: `1px solid ${colors.border}`, fontFamily: 'monospace', fontSize: '11px', color: colors.textDim }}><span style={{color: colors.accent}}>‚óè</span> {title}</div>}
        <pre style={{ margin: 0, padding: '14px', fontFamily: 'JetBrains Mono, monospace', fontSize: '12px', lineHeight: '1.5', color: colors.text, overflowX: 'auto' }}>{children}</pre>
      </div>
    );

    const Box = ({ type = 'info', title, children }) => {
      const cfg = { info: { c: colors.info, i: '‚ÑπÔ∏è' }, warn: { c: colors.warn, i: '‚ö†Ô∏è' }, danger: { c: colors.danger, i: 'üõë' }, tip: { c: colors.purple, i: 'üí°' }, success: { c: colors.success, i: '‚úì' } };
      const { c, i } = cfg[type];
      return (
        <div style={{ background: c + '15', border: `1px solid ${c}40`, borderLeft: `4px solid ${c}`, borderRadius: '0 8px 8px 0', padding: '14px 18px', margin: '14px 0' }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '6px', fontWeight: '600', color: c }}>{i} {title}</div>
          <div style={{ color: colors.textDim, lineHeight: '1.5', fontSize: '13px' }}>{children}</div>
        </div>
      );
    };

    const Glow = ({ children, color = colors.accent }) => (
      <div style={{ position: 'relative', padding: '2px', borderRadius: '12px', background: `linear-gradient(135deg, ${color}40, transparent, ${color}20)` }}>
        <div style={{ background: colors.bgCard, borderRadius: '10px', padding: '20px' }}>{children}</div>
      </div>
    );

    // Network Topology Simulator
    const NetworkTopologyBuilder = () => {
      const [scenario, setScenario] = useState(0);
      const [packet, setPacket] = useState(null);
      const [blocked, setBlocked] = useState(false);

      const scenarios = [
        { name: 'Senza Firewall', hasFirewall: false, hasDMZ: false, desc: 'Rete senza protezione - tutti possono accedere a tutto' },
        { name: 'Firewall Perimetrale', hasFirewall: true, hasDMZ: false, desc: 'Un firewall protegge la LAN da Internet' },
        { name: 'DMZ + Dual Firewall', hasFirewall: true, hasDMZ: true, desc: 'Architettura completa con zona demilitarizzata' },
      ];

      const sendPacket = (malicious) => {
        setPacket({ x: 30, malicious, stage: 0 });
        setBlocked(false);
        let pos = 30;
        const s = scenarios[scenario];
        // Calculate correct LAN center position based on scenario
        const lanTargetX = s.hasDMZ ? 380 : s.hasFirewall ? 230 : 150;
        const fw1Pos = 117; // First firewall position
        const fw2Pos = 287; // Second firewall position (DMZ)

        const interval = setInterval(() => {
          pos += 6;
          const stage = pos < 120 ? 0 : pos < 220 ? 1 : pos < 320 ? 2 : 3;

          // Check first firewall (if exists)
          if (s.hasFirewall && malicious && pos > 105 && pos < 130) {
            setBlocked(true);
            setPacket(p => ({ ...p, x: fw1Pos, blocked: true }));
            clearInterval(interval);
            return;
          }
          // Check second firewall in DMZ scenario
          if (s.hasDMZ && malicious && pos > 275 && pos < 300) {
            setBlocked(true);
            setPacket(p => ({ ...p, x: fw2Pos, blocked: true }));
            clearInterval(interval);
            return;
          }
          // Packet arrives at LAN
          if (pos >= lanTargetX) {
            clearInterval(interval);
            setPacket(p => ({ ...p, x: lanTargetX, arrived: true }));
            return;
          }
          setPacket(p => ({ ...p, x: pos, stage }));
        }, 50);
      };

      const s = scenarios[scenario];
      return (
        <div style={{ background: colors.bgCard, borderRadius: '12px', padding: '20px', border: `1px solid ${colors.border}` }}>
          <h3 style={{ color: colors.accent, marginBottom: '16px' }}>üåê Network Topology Simulator</h3>
          <div style={{ display: 'flex', gap: '8px', marginBottom: '16px', flexWrap: 'wrap' }}>
            {scenarios.map((sc, i) => (
              <button key={i} onClick={() => { setScenario(i); setPacket(null); setBlocked(false); }} style={{ padding: '8px 16px', background: scenario === i ? colors.accent : colors.bgLight, border: 'none', borderRadius: '6px', color: scenario === i ? '#000' : colors.text, cursor: 'pointer', fontSize: '12px', fontWeight: scenario === i ? '600' : '400' }}>{sc.name}</button>
            ))}
          </div>
          <p style={{ color: colors.textDim, fontSize: '13px', marginBottom: '16px' }}>{s.desc}</p>
          <svg viewBox="0 0 450 120" style={{ width: '100%', background: colors.bg, borderRadius: '8px' }}>
            <ellipse cx="40" cy="60" rx="30" ry="25" fill={colors.danger + '30'} stroke={colors.danger} strokeWidth="2" />
            <text x="40" y="58" textAnchor="middle" fill={colors.danger} fontSize="8" fontWeight="bold">Internet</text>
            <text x="40" y="70" textAnchor="middle" fontSize="12">‚òÅÔ∏è</text>
            {s.hasFirewall && (<><rect x="100" y="35" width="35" height="50" fill={colors.bgLight} stroke={colors.accent} strokeWidth="2" rx="4" /><text x="117" y="65" textAnchor="middle" fontSize="16">üî•</text></>)}
            {s.hasDMZ && (<><rect x="160" y="20" width="90" height="80" fill={colors.warn + '15'} stroke={colors.warn} strokeWidth="1" rx="4" /><text x="205" y="40" textAnchor="middle" fill={colors.warn} fontSize="8">DMZ</text><rect x="175" y="50" width="60" height="25" fill={colors.bgCard} stroke={colors.border} rx="3" /><text x="205" y="67" textAnchor="middle" fill={colors.textDim} fontSize="8">üåê Web</text><rect x="270" y="35" width="35" height="50" fill={colors.bgLight} stroke={colors.accent} strokeWidth="2" rx="4" /><text x="287" y="65" textAnchor="middle" fontSize="16">üî•</text></>)}
            <rect x={s.hasDMZ ? 330 : s.hasFirewall ? 180 : 100} y="25" width="100" height="70" fill={colors.success + '20'} stroke={colors.success} strokeWidth="2" rx="6" />
            <text x={s.hasDMZ ? 380 : s.hasFirewall ? 230 : 150} y="45" textAnchor="middle" fill={colors.success} fontSize="9" fontWeight="bold">LAN</text>
            <text x={s.hasDMZ ? 380 : s.hasFirewall ? 230 : 150} y="75" textAnchor="middle" fontSize="20">üíªüñ•Ô∏è</text>
            {packet && (<><circle cx={packet.x} cy="60" r="8" fill={packet.malicious ? colors.danger : colors.success} stroke="#fff" strokeWidth="2" style={{ filter: packet.blocked ? 'none' : 'drop-shadow(0 0 4px ' + (packet.malicious ? colors.danger : colors.success) + ')' }} /><text x={packet.x} y="64" textAnchor="middle" fill="#fff" fontSize="8">{packet.malicious ? 'üíÄ' : 'üì¶'}</text>{packet.blocked && <text x={packet.x + 20} y="60" fill={colors.danger} fontSize="16">‚ùå</text>}{packet.arrived && <text x={packet.x - 15} y="60" fill={packet.malicious ? colors.danger : colors.success} fontSize="12">{packet.malicious ? '‚ö†Ô∏è' : '‚úì'}</text>}</>)}
          </svg>
          <div style={{ display: 'flex', gap: '12px', marginTop: '16px', justifyContent: 'center' }}>
            <button onClick={() => sendPacket(false)} style={{ padding: '10px 20px', background: colors.success, border: 'none', borderRadius: '6px', color: '#fff', cursor: 'pointer', fontSize: '12px', fontWeight: '600' }}>üì¶ Invia Pacchetto Legittimo</button>
            <button onClick={() => sendPacket(true)} style={{ padding: '10px 20px', background: colors.danger, border: 'none', borderRadius: '6px', color: '#fff', cursor: 'pointer', fontSize: '12px', fontWeight: '600' }}>üíÄ Invia Pacchetto Malevolo</button>
          </div>
          {blocked && <div style={{ marginTop: '12px', padding: '10px', background: colors.success + '20', borderRadius: '6px', textAlign: 'center', color: colors.success, fontWeight: '600' }}>üõ°Ô∏è Attacco bloccato dal firewall!</div>}
          {packet?.arrived && packet.malicious && !blocked && <div style={{ marginTop: '12px', padding: '10px', background: colors.danger + '20', borderRadius: '6px', textAlign: 'center', color: colors.danger, fontWeight: '600' }}>‚ö†Ô∏è Attacco riuscito! La rete √® compromessa!</div>}
          {packet?.arrived && !packet.malicious && <div style={{ marginTop: '12px', padding: '10px', background: colors.success + '20', borderRadius: '6px', textAlign: 'center', color: colors.success, fontWeight: '600' }}>‚úì Pacchetto consegnato con successo!</div>}
        </div>
      );
    };

    // Defense in Depth Visualizer
    const DefenseInDepthVisualizer = () => {
      const [attack, setAttack] = useState(null);
      const [layers, setLayers] = useState([
        { name: 'Perimeter FW', enabled: true, icon: 'üî•', blocks: 0.6, desc: 'Firewall perimetrale: prima linea di difesa, filtra traffico in entrata' },
        { name: 'IDS/IPS', enabled: true, icon: 'üëÅÔ∏è', blocks: 0.5, desc: 'Sistema di rilevamento/prevenzione intrusioni: analizza pattern sospetti' },
        { name: 'Host FW', enabled: true, icon: 'üõ°Ô∏è', blocks: 0.7, desc: 'Firewall locale: protezione a livello di singola macchina' },
        { name: 'Antivirus', enabled: true, icon: 'ü¶†', blocks: 0.8, desc: 'Antivirus/EDR: rileva malware e comportamenti anomali' },
      ]);

      const toggleLayer = (i) => {
        setLayers(l => l.map((layer, idx) => idx === i ? { ...layer, enabled: !layer.enabled } : layer));
        setAttack(null);
      };

      const launchAttack = () => {
        const results = [];
        let currentLayer = 0;

        const processLayer = () => {
          if (currentLayer >= layers.length) {
            setAttack({ results, stopped: false, complete: true });
            return;
          }
          const layer = layers[currentLayer];
          if (layer.enabled && Math.random() < layer.blocks) {
            results.push({ layer: currentLayer, blocked: true });
            setAttack({ results: [...results], stopped: true, stoppedAt: currentLayer, complete: true });
            return;
          }
          results.push({ layer: currentLayer, blocked: false });
          setAttack({ results: [...results], stopped: false, complete: false });
          currentLayer++;
          setTimeout(processLayer, 700);
        };

        setAttack({ results: [], stopped: false, complete: false });
        setTimeout(processLayer, 300);
      };

      const enabledCount = layers.filter(l => l.enabled).length;
      // Calculate total protection probability
      const totalProtection = layers.reduce((acc, l) => l.enabled ? acc * (1 - l.blocks) : acc, 1);
      const protectionPercent = Math.round((1 - totalProtection) * 100);

      return (
        <div style={{ background: colors.bgCard, borderRadius: '12px', padding: '20px', border: `1px solid ${colors.border}` }}>
          <h3 style={{ color: colors.accent, marginBottom: '12px' }}>üè∞ Defense in Depth Simulator</h3>

          {/* Explanation Box */}
          <div style={{ background: colors.bgLight, borderRadius: '8px', padding: '14px', marginBottom: '16px', border: `1px solid ${colors.border}` }}>
            <div style={{ color: colors.text, fontSize: '13px', fontWeight: '600', marginBottom: '8px' }}>Come funziona:</div>
            <ul style={{ color: colors.textDim, fontSize: '12px', lineHeight: '1.6', paddingLeft: '16px', margin: 0 }}>
              <li><strong>Click sui livelli</strong> per attivarli/disattivarli</li>
              <li>Ogni livello ha una <strong>probabilit√† di bloccare</strong> l'attacco (mostrata in %)</li>
              <li>Pi√π livelli attivi = <strong>maggiore probabilit√†</strong> di fermare l'attacco</li>
              <li>L'attacco attraversa i livelli da sinistra a destra</li>
            </ul>
          </div>

          {/* Layers description */}
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '8px', marginBottom: '16px' }}>
            {layers.map((layer, i) => (
              <div key={i} onClick={() => toggleLayer(i)} style={{ background: layer.enabled ? colors.bg : colors.bgLight, padding: '10px', borderRadius: '6px', cursor: 'pointer', border: `1px solid ${layer.enabled ? colors.accent + '60' : colors.border}`, opacity: layer.enabled ? 1 : 0.6 }}>
                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '4px' }}>
                  <span style={{ fontSize: '16px' }}>{layer.icon}</span>
                  <span style={{ color: colors.text, fontSize: '12px', fontWeight: '600' }}>{layer.name}</span>
                  <span style={{ marginLeft: 'auto', color: layer.enabled ? colors.success : colors.textMuted, fontSize: '11px', fontWeight: '600' }}>{Math.round(layer.blocks * 100)}%</span>
                </div>
                <div style={{ color: colors.textMuted, fontSize: '10px', lineHeight: '1.4' }}>{layer.desc}</div>
              </div>
            ))}
          </div>

          {/* Attack visualization */}
          <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '16px', flexWrap: 'wrap', justifyContent: 'center', padding: '12px', background: colors.bg, borderRadius: '8px' }}>
            <div style={{ padding: '10px', background: colors.danger + '20', borderRadius: '8px', textAlign: 'center', minWidth: '50px' }}>
              <div style={{ fontSize: '20px' }}>üíÄ</div>
              <div style={{ fontSize: '9px', color: colors.danger }}>Attacco</div>
            </div>
            <div style={{ color: colors.textMuted, fontSize: '16px' }}>‚Üí</div>
            {layers.map((layer, i) => (
              <React.Fragment key={i}>
                <div style={{ padding: '8px', background: layer.enabled ? colors.bgLight : 'transparent', border: `2px solid ${layer.enabled ? colors.accent : colors.border}`, borderRadius: '8px', textAlign: 'center', minWidth: '55px', opacity: layer.enabled ? 1 : 0.4, position: 'relative' }}>
                  <div style={{ fontSize: '18px' }}>{layer.icon}</div>
                  <div style={{ fontSize: '8px', color: layer.enabled ? colors.text : colors.textMuted }}>{layer.name}</div>
                  {attack?.results?.find(r => r.layer === i)?.blocked && <div style={{ position: 'absolute', top: -6, right: -6, background: colors.success, borderRadius: '50%', width: '18px', height: '18px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '10px', color: '#fff' }}>‚úì</div>}
                  {attack?.results?.find(r => r.layer === i && !r.blocked) && <div style={{ position: 'absolute', top: -6, right: -6, background: colors.warn, borderRadius: '50%', width: '18px', height: '18px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '10px' }}>‚Üí</div>}
                </div>
                <div style={{ color: colors.textMuted, fontSize: '16px' }}>‚Üí</div>
              </React.Fragment>
            ))}
            <div style={{ padding: '10px', background: attack?.complete && !attack?.stopped ? colors.danger + '40' : colors.success + '20', borderRadius: '8px', textAlign: 'center', minWidth: '50px', border: `2px solid ${attack?.complete && !attack?.stopped ? colors.danger : colors.success}` }}>
              <div style={{ fontSize: '20px' }}>üéØ</div>
              <div style={{ fontSize: '9px', color: attack?.complete && !attack?.stopped ? colors.danger : colors.success }}>Target</div>
            </div>
          </div>

          {/* Controls and stats */}
          <div style={{ display: 'flex', gap: '12px', alignItems: 'center', flexWrap: 'wrap', marginBottom: '12px' }}>
            <button onClick={launchAttack} style={{ padding: '10px 24px', background: colors.danger, border: 'none', borderRadius: '6px', color: '#fff', cursor: 'pointer', fontSize: '13px', fontWeight: '600' }}>üöÄ Lancia Attacco</button>
            <div style={{ display: 'flex', gap: '16px', flexWrap: 'wrap' }}>
              <span style={{ color: colors.textDim, fontSize: '12px' }}>Livelli attivi: <strong style={{ color: colors.accent }}>{enabledCount}/4</strong></span>
              <span style={{ color: colors.textDim, fontSize: '12px' }}>Protezione totale: <strong style={{ color: protectionPercent > 80 ? colors.success : protectionPercent > 50 ? colors.warn : colors.danger }}>{protectionPercent}%</strong></span>
            </div>
          </div>

          {/* Result message */}
          {attack?.complete && (
            <div style={{ padding: '14px', background: attack.stopped ? colors.success + '20' : colors.danger + '20', borderRadius: '8px', border: `1px solid ${attack.stopped ? colors.success : colors.danger}` }}>
              {attack.stopped ? (
                <div>
                  <div style={{ color: colors.success, fontWeight: '600', marginBottom: '6px' }}>üõ°Ô∏è Attacco BLOCCATO da: {layers[attack.stoppedAt].icon} {layers[attack.stoppedAt].name}</div>
                  <div style={{ color: colors.textDim, fontSize: '12px' }}>{layers[attack.stoppedAt].desc}</div>
                  {attack.stoppedAt > 0 && <div style={{ color: colors.warn, fontSize: '11px', marginTop: '6px' }}>‚ö†Ô∏è L'attacco ha superato {attack.stoppedAt} livell{attack.stoppedAt > 1 ? 'i' : 'o'} prima di essere fermato</div>}
                </div>
              ) : (
                <div>
                  <div style={{ color: colors.danger, fontWeight: '600', marginBottom: '6px' }}>üí• BREACH! L'attacco ha raggiunto il target!</div>
                  <div style={{ color: colors.textDim, fontSize: '12px' }}>
                    {enabledCount === 0 ? 'Nessuna difesa era attiva. Attiva almeno un livello di protezione!' :
                     enabledCount < 3 ? 'Troppi pochi livelli attivi. La Defense in Depth richiede pi√π layer!' :
                     'Anche con tutti i livelli attivi, nessuna difesa √® perfetta. Ritenta per vedere risultati diversi.'}
                  </div>
                </div>
              )}
            </div>
          )}
        </div>
      );
    };

    const slides = [
      // Slide 1: Title
      () => (
        <div style={{ textAlign: 'center', padding: '60px 30px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', minHeight: '70vh' }}>
          <div style={{ fontSize: '48px', marginBottom: '20px' }}>üî•</div>
          <div style={{ fontSize: '12px', color: colors.accent, textTransform: 'uppercase', letterSpacing: '3px', marginBottom: '16px' }}>Modulo 1</div>
          <h1 style={{ fontSize: '42px', fontWeight: '700', background: `linear-gradient(135deg, ${colors.accent}, ${colors.accentAlt})`, WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', marginBottom: '16px' }}>Fondamenti Firewall</h1>
          <p style={{ fontSize: '18px', color: colors.textDim, maxWidth: '500px', lineHeight: '1.6' }}>Cos'√® un firewall, dove posizionarlo e quali principi seguire per una corretta configurazione</p>
        </div>
      ),

      // Slide 2: Cos'√® un Firewall
      () => (
        <div style={{ padding: '30px' }}>
          <h2 style={{ color: colors.accent, marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '12px', fontSize: 'clamp(24px, 3vw, 38px)' }}>
            <span style={{ fontSize: 'clamp(24px, 3vw, 36px)' }}>üõ°Ô∏è</span> Cos'√® un Firewall?
          </h2>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(min(100%, 400px), 1fr))', gap: 'clamp(20px, 3vw, 40px)' }}>
            <div>
              <Glow>
                <p style={{ color: colors.textDim, lineHeight: '1.8', fontSize: 'clamp(15px, 1.5vw, 20px)' }}>
                  Un <strong style={{ color: colors.accent }}>firewall</strong> √® un sistema di sicurezza che monitora e controlla
                  il traffico di rete in ingresso e in uscita, basandosi su un insieme di regole predefinite.
                </p>
                <p style={{ color: colors.textDim, lineHeight: '1.8', fontSize: 'clamp(15px, 1.5vw, 20px)', marginTop: '16px' }}>
                  Funziona come un <strong style={{ color: colors.accent }}>filtro</strong> tra reti con diversi livelli di fiducia
                  (es. Internet vs LAN aziendale).
                </p>
              </Glow>
              <Box type="tip" title="Analogia">
                Come un buttafuori all'ingresso di un locale: controlla chi entra e chi esce in base a una lista di regole.
                Pu√≤ bloccare persone indesiderate e permettere l'accesso solo agli autorizzati.
              </Box>
            </div>
            <div>
              <h3 style={{ color: colors.text, marginBottom: '18px', fontSize: 'clamp(16px, 1.8vw, 24px)' }}>üìã Funzioni Principali</h3>
              <ul style={{ color: colors.textDim, lineHeight: '2.2', paddingLeft: '24px', fontSize: 'clamp(14px, 1.4vw, 20px)' }}>
                <li><strong style={{ color: colors.text }}>Filtraggio traffico</strong> - basato su regole</li>
                <li><strong style={{ color: colors.text }}>Blocco accessi</strong> - non autorizzati</li>
                <li><strong style={{ color: colors.text }}>Logging</strong> - registrazione connessioni</li>
                <li><strong style={{ color: colors.text }}>Protezione attacchi</strong> - DoS, port scan</li>
                <li><strong style={{ color: colors.text }}>Segmentazione</strong> - creazione DMZ</li>
                <li><strong style={{ color: colors.text }}>NAT</strong> - Network Address Translation</li>
              </ul>
            </div>
          </div>
        </div>
      ),

      // Slide 3: Posizionamento
      () => (
        <div style={{ padding: '30px' }}>
          <h2 style={{ color: colors.accent, marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '12px' }}>
            <span style={{ fontSize: '28px' }}>üìç</span> Posizionamento del Firewall
          </h2>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '24px' }}>
            <div>
              <h3 style={{ color: colors.text, marginBottom: '16px' }}>üåê Firewall Perimetrale</h3>
              <svg viewBox="0 0 400 180" style={{ width: '100%', background: colors.bgCard, borderRadius: '12px', padding: '16px' }}>
                <defs>
                  <linearGradient id="lanGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stopColor={colors.success + '40'} />
                    <stop offset="100%" stopColor={colors.success + '20'} />
                  </linearGradient>
                </defs>
                <ellipse cx="60" cy="90" rx="45" ry="35" fill={colors.danger + '30'} stroke={colors.danger} strokeWidth="2" />
                <text x="60" y="85" textAnchor="middle" fill={colors.danger} fontSize="11" fontWeight="bold">Internet</text>
                <text x="60" y="100" textAnchor="middle" fill={colors.textMuted} fontSize="9">‚òÅÔ∏è Untrusted</text>
                <rect x="140" y="55" width="60" height="70" fill={colors.bgLight} stroke={colors.accent} strokeWidth="3" rx="8" />
                <text x="170" y="85" textAnchor="middle" fill={colors.accent} fontSize="24">üî•</text>
                <text x="170" y="110" textAnchor="middle" fill={colors.accent} fontSize="10" fontWeight="bold">FIREWALL</text>
                <rect x="230" y="30" width="150" height="120" fill="url(#lanGrad)" stroke={colors.success} strokeWidth="2" rx="8" />
                <text x="305" y="55" textAnchor="middle" fill={colors.success} fontSize="11" fontWeight="bold">LAN - Trusted Zone</text>
                <rect x="245" y="70" width="50" height="35" fill={colors.bgCard} stroke={colors.border} rx="6" />
                <text x="270" y="92" textAnchor="middle" fill={colors.textDim} fontSize="18">üíª</text>
                <rect x="305" y="70" width="50" height="35" fill={colors.bgCard} stroke={colors.border} rx="6" />
                <text x="330" y="92" textAnchor="middle" fill={colors.textDim} fontSize="18">üñ•Ô∏è</text>
                <rect x="275" y="115" width="50" height="25" fill={colors.bgCard} stroke={colors.border} rx="4" />
                <text x="300" y="132" textAnchor="middle" fill={colors.textDim} fontSize="16">üñ®Ô∏è</text>
                <line x1="105" y1="90" x2="135" y2="90" stroke={colors.textMuted} strokeWidth="3" markerEnd="url(#arrow)" />
                <line x1="200" y1="90" x2="225" y2="90" stroke={colors.textMuted} strokeWidth="3" />
              </svg>
              <p style={{ color: colors.textDim, fontSize: '13px', marginTop: '12px', lineHeight: '1.5' }}>
                Si posiziona al <strong style={{ color: colors.text }}>confine</strong> tra la rete interna e Internet.
                Protegge l'intera rete locale.
              </p>
            </div>
            <div>
              <h3 style={{ color: colors.text, marginBottom: '16px' }}>üíª Host-based Firewall</h3>
              <svg viewBox="0 0 320 180" style={{ width: '100%', background: colors.bgCard, borderRadius: '12px', padding: '16px' }}>
                <rect x="80" y="20" width="160" height="140" fill={colors.bgLight} stroke={colors.info} strokeWidth="2" rx="12" />
                <text x="160" y="50" textAnchor="middle" fill={colors.text} fontSize="12" fontWeight="bold">Single Host</text>
                <rect x="100" y="65" width="120" height="35" fill={colors.accent + '30'} stroke={colors.accent} strokeWidth="2" rx="6" />
                <text x="160" y="88" textAnchor="middle" fill={colors.accent} fontSize="11" fontWeight="bold">üî• Host Firewall</text>
                <rect x="100" y="110" width="120" height="35" fill={colors.bgCard} stroke={colors.border} rx="6" />
                <text x="160" y="133" textAnchor="middle" fill={colors.textDim} fontSize="11">OS + Applications</text>
                <path d="M 40 90 L 95 90" stroke={colors.textMuted} strokeWidth="2" strokeDasharray="5,5" />
                <text x="20" y="95" fill={colors.textMuted} fontSize="10">üåê</text>
              </svg>
              <p style={{ color: colors.textDim, fontSize: '13px', marginTop: '12px', lineHeight: '1.5' }}>
                Installato <strong style={{ color: colors.text }}>sul singolo host</strong>. Esempi:
                Windows Firewall, iptables, nftables su Linux.
              </p>
            </div>
          </div>
          <Box type="success" title="Best Practice: Defense in Depth">
            Usare ENTRAMBI: firewall perimetrale per proteggere la rete + host-based firewall su ogni macchina per protezione locale.
          </Box>
        </div>
      ),

      // Slide 4: DMZ
      () => (
        <div style={{ padding: '30px' }}>
          <h2 style={{ color: colors.accent, marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '12px', fontSize: 'clamp(24px, 3vw, 38px)' }}>
            <span style={{ fontSize: 'clamp(24px, 3vw, 36px)' }}>üè∞</span> Architettura con DMZ
          </h2>
          <svg viewBox="0 0 600 280" style={{ width: '100%', maxWidth: '1200px', minHeight: '250px', margin: '0 auto', display: 'block', background: colors.bgCard, borderRadius: '12px', padding: '20px' }}>
            <ellipse cx="60" cy="140" rx="45" ry="35" fill={colors.danger + '30'} stroke={colors.danger} strokeWidth="2" />
            <text x="60" y="135" textAnchor="middle" fill={colors.danger} fontSize="10" fontWeight="bold">Internet</text>
            <text x="60" y="150" textAnchor="middle" fill={colors.textMuted} fontSize="8">Untrusted</text>
            <rect x="130" y="100" width="50" height="80" fill={colors.bgLight} stroke={colors.accent} strokeWidth="2" rx="8" />
            <text x="155" y="135" textAnchor="middle" fill={colors.accent} fontSize="20">üî•</text>
            <text x="155" y="160" textAnchor="middle" fill={colors.accent} fontSize="8">FW Est</text>
            <rect x="200" y="40" width="150" height="200" fill={colors.warn + '15'} stroke={colors.warn} strokeWidth="2" rx="8" />
            <text x="275" y="65" textAnchor="middle" fill={colors.warn} fontSize="11" fontWeight="bold">DMZ</text>
            <text x="275" y="80" textAnchor="middle" fill={colors.textMuted} fontSize="8">Demilitarized Zone</text>
            <rect x="220" y="95" width="110" height="35" fill={colors.bgCard} stroke={colors.border} rx="6" />
            <text x="275" y="118" textAnchor="middle" fill={colors.textDim} fontSize="10">üåê Web Server</text>
            <rect x="220" y="140" width="110" height="35" fill={colors.bgCard} stroke={colors.border} rx="6" />
            <text x="275" y="163" textAnchor="middle" fill={colors.textDim} fontSize="10">üìß Mail Server</text>
            <rect x="220" y="185" width="110" height="35" fill={colors.bgCard} stroke={colors.border} rx="6" />
            <text x="275" y="208" textAnchor="middle" fill={colors.textDim} fontSize="10">üîê VPN Gateway</text>
            <rect x="370" y="100" width="50" height="80" fill={colors.bgLight} stroke={colors.accent} strokeWidth="2" rx="8" />
            <text x="395" y="135" textAnchor="middle" fill={colors.accent} fontSize="20">üî•</text>
            <text x="395" y="160" textAnchor="middle" fill={colors.accent} fontSize="8">FW Int</text>
            <rect x="440" y="60" width="140" height="160" fill={colors.success + '20'} stroke={colors.success} strokeWidth="2" rx="8" />
            <text x="510" y="85" textAnchor="middle" fill={colors.success} fontSize="11" fontWeight="bold">LAN Interna</text>
            <text x="510" y="100" textAnchor="middle" fill={colors.textMuted} fontSize="8">Trusted Zone</text>
            <rect x="460" y="115" width="80" height="30" fill={colors.bgCard} stroke={colors.border} rx="4" />
            <text x="500" y="135" textAnchor="middle" fill={colors.textDim} fontSize="9">üíª Client</text>
            <rect x="460" y="155" width="80" height="30" fill={colors.bgCard} stroke={colors.border} rx="4" />
            <text x="500" y="175" textAnchor="middle" fill={colors.textDim} fontSize="9">üóÑÔ∏è DB Server</text>
            <line x1="105" y1="140" x2="125" y2="140" stroke={colors.textMuted} strokeWidth="2" />
            <line x1="180" y1="140" x2="195" y2="140" stroke={colors.textMuted} strokeWidth="2" />
            <line x1="350" y1="140" x2="365" y2="140" stroke={colors.textMuted} strokeWidth="2" />
            <line x1="420" y1="140" x2="435" y2="140" stroke={colors.textMuted} strokeWidth="2" />
          </svg>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '20px', marginTop: '20px' }}>
            <Box type="warn" title="DMZ - Zona Demilitarizzata">
              Area "semi-fidata" dove si posizionano i servizi pubblici (web, mail, DNS).
              Accessibile da Internet ma isolata dalla LAN interna.
            </Box>
            <Box type="info" title="Dual Firewall">
              Architettura pi√π sicura: il primo FW filtra Internet‚ÜíDMZ, il secondo filtra DMZ‚ÜíLAN.
              Compromettere la DMZ non espone la LAN.
            </Box>
          </div>
        </div>
      ),

      // Slide 5: Principi
      () => (
        <div style={{ padding: '30px' }}>
          <h2 style={{ color: colors.accent, marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '12px' }}>
            <span style={{ fontSize: '28px' }}>üìú</span> Principi Fondamentali
          </h2>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '24px' }}>
            <Glow color={colors.success}>
              <h3 style={{ color: colors.success, marginBottom: '12px', display: 'flex', alignItems: 'center', gap: '8px' }}>
                <span>üö´</span> Default Deny (Whitelist)
              </h3>
              <p style={{ color: colors.textDim, lineHeight: '1.6', marginBottom: '12px' }}>
                <strong style={{ color: colors.text }}>Tutto √® bloccato</strong> per default.
                Si abilitano esplicitamente solo i servizi necessari.
              </p>
              <Code>{`# Approccio Default Deny
iptables -P INPUT DROP
iptables -P FORWARD DROP
iptables -A INPUT -p tcp --dport 80 -j ACCEPT`}</Code>
              <div style={{ color: colors.success, fontSize: '13px', marginTop: '10px' }}>‚úì Pi√π sicuro - Minima superficie di attacco</div>
            </Glow>
            <Glow color={colors.danger}>
              <h3 style={{ color: colors.danger, marginBottom: '12px', display: 'flex', alignItems: 'center', gap: '8px' }}>
                <span>‚úÖ</span> Default Allow (Blacklist)
              </h3>
              <p style={{ color: colors.textDim, lineHeight: '1.6', marginBottom: '12px' }}>
                <strong style={{ color: colors.text }}>Tutto √® permesso</strong> per default.
                Si bloccano esplicitamente solo le minacce note.
              </p>
              <Code>{`# Approccio Default Allow
iptables -P INPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -A INPUT -s 10.0.0.5 -j DROP`}</Code>
              <div style={{ color: colors.danger, fontSize: '13px', marginTop: '10px' }}>‚úó Meno sicuro - Pu√≤ far passare minacce sconosciute</div>
            </Glow>
          </div>
          <Box type="tip" title="Principio del Minimo Privilegio">
            Ogni servizio, utente o sistema dovrebbe avere accesso solo alle risorse strettamente necessarie per svolgere la propria funzione.
            Applicare sempre "need-to-know" e "need-to-access".
          </Box>
        </div>
      ),

      // Slide 6: IDS/IPS
      () => (
        <div style={{ padding: '30px' }}>
          <h2 style={{ color: colors.accent, marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '12px', fontSize: 'clamp(24px, 3vw, 38px)' }}>
            <span style={{ fontSize: 'clamp(24px, 3vw, 36px)' }}>üëÅÔ∏è</span> IDS e IPS
          </h2>
          <p style={{ color: colors.textDim, fontSize: 'clamp(14px, 1.3vw, 18px)', marginBottom: '24px', lineHeight: '1.7' }}>
            Sistemi complementari al firewall che analizzano il traffico per rilevare e prevenire intrusioni e attacchi.
          </p>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(min(100%, 380px), 1fr))', gap: '24px' }}>
            <Glow color={colors.info}>
              <h3 style={{ color: colors.info, marginBottom: '12px', display: 'flex', alignItems: 'center', gap: '8px' }}>
                <span>üîç</span> IDS - Intrusion Detection System
              </h3>
              <p style={{ color: colors.textDim, lineHeight: '1.6', marginBottom: '12px', fontSize: 'clamp(13px, 1.2vw, 16px)' }}>
                <strong style={{ color: colors.text }}>Rileva</strong> attivit√† sospette e genera alert.
                Opera in modalit√† <strong style={{ color: colors.info }}>passiva</strong>: monitora ma non blocca.
              </p>
              <div style={{ background: colors.bg, padding: '12px', borderRadius: '6px', marginTop: '12px' }}>
                <div style={{ fontSize: '11px', color: colors.textMuted, marginBottom: '6px' }}>Funzionamento:</div>
                <div style={{ fontSize: 'clamp(12px, 1.1vw, 14px)', color: colors.textDim }}>
                  Traffico ‚Üí Analisi ‚Üí <span style={{ color: colors.warn }}>Alert</span> ‚Üí Intervento manuale
                </div>
              </div>
              <div style={{ color: colors.info, fontSize: '12px', marginTop: '10px' }}>üìä Utile per: logging, analisi forense, compliance</div>
            </Glow>
            <Glow color={colors.success}>
              <h3 style={{ color: colors.success, marginBottom: '12px', display: 'flex', alignItems: 'center', gap: '8px' }}>
                <span>üõ°Ô∏è</span> IPS - Intrusion Prevention System
              </h3>
              <p style={{ color: colors.textDim, lineHeight: '1.6', marginBottom: '12px', fontSize: 'clamp(13px, 1.2vw, 16px)' }}>
                <strong style={{ color: colors.text }}>Blocca</strong> automaticamente le minacce rilevate.
                Opera in modalit√† <strong style={{ color: colors.success }}>attiva</strong>: inline nel flusso di rete.
              </p>
              <div style={{ background: colors.bg, padding: '12px', borderRadius: '6px', marginTop: '12px' }}>
                <div style={{ fontSize: '11px', color: colors.textMuted, marginBottom: '6px' }}>Funzionamento:</div>
                <div style={{ fontSize: 'clamp(12px, 1.1vw, 14px)', color: colors.textDim }}>
                  Traffico ‚Üí Analisi ‚Üí <span style={{ color: colors.danger }}>Blocco automatico</span>
                </div>
              </div>
              <div style={{ color: colors.success, fontSize: '12px', marginTop: '10px' }}>‚ö° Utile per: protezione real-time, risposta automatica</div>
            </Glow>
          </div>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(min(100%, 280px), 1fr))', gap: '16px', marginTop: '24px' }}>
            <Box type="info" title="Tecniche di rilevamento">
              <strong>Signature-based:</strong> confronta con pattern noti (veloce, ma non rileva zero-day)<br/>
              <strong>Anomaly-based:</strong> rileva comportamenti anomali (pi√π falsi positivi, ma trova nuove minacce)
            </Box>
            <Box type="tip" title="Esempi di tool">
              <strong>Open source:</strong> Snort, Suricata, OSSEC, Zeek<br/>
              <strong>Enterprise:</strong> Cisco Firepower, Palo Alto, Fortinet
            </Box>
          </div>
        </div>
      ),

      // Slide 7: Network Topology Simulator
      () => (
        <div style={{ padding: '30px' }}>
          <h2 style={{ color: colors.accent, marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '12px' }}>
            <span style={{ fontSize: '28px' }}>üéÆ</span> Simulatore: Topologia di Rete
          </h2>
          <NetworkTopologyBuilder />
          <Box type="info" title="Cosa impari">
            Osserva come cambia la protezione della rete nelle diverse architetture. Prova a inviare pacchetti malevoli e legittimi per vedere la differenza tra una rete protetta e una non protetta.
          </Box>
        </div>
      ),

      // Slide 8: Defense in Depth Simulator
      () => (
        <div style={{ padding: '30px' }}>
          <h2 style={{ color: colors.accent, marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '12px' }}>
            <span style={{ fontSize: '28px' }}>üè∞</span> Simulatore: Defense in Depth
          </h2>
          <DefenseInDepthVisualizer />
          <Box type="tip" title="Defense in Depth">
            Pi√π livelli di sicurezza aumentano la probabilit√† di bloccare un attacco. Prova a disabilitare alcuni livelli e osserva come cambia la sicurezza complessiva.
          </Box>
        </div>
      ),
    ];

    function App() {
      const [current, setCurrent] = useState(0);
      const [menu, setMenu] = useState(false);
      const total = slides.length;

      const next = () => setCurrent(c => Math.min(c + 1, total - 1));
      const prev = () => setCurrent(c => Math.max(c - 1, 0));

      useEffect(() => {
        const handler = e => {
          if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); next(); }
          if (e.key === 'ArrowLeft') { e.preventDefault(); prev(); }
          if (e.key === 'm') setMenu(m => !m);
          if (e.key === 'Escape') window.location.href = 'index.html';
        };
        window.addEventListener('keydown', handler);
        return () => window.removeEventListener('keydown', handler);
      }, []);

      return (
        <div style={{ minHeight: '100vh', background: colors.bg }}>
          <div style={{ position: 'fixed', top: 0, left: 0, right: 0, height: '50px', background: colors.bgCard + 'e0', backdropFilter: 'blur(10px)', borderBottom: `1px solid ${colors.border}`, display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '0 20px', zIndex: 100 }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
              <a href="index.html" style={{ color: colors.textMuted, textDecoration: 'none', fontSize: '13px' }}>‚Üê Indice</a>
              <span style={{ color: colors.border }}>|</span>
              <span style={{ color: colors.accent, fontWeight: '600' }}>Modulo 1</span>
              <span style={{ color: colors.textDim }}>Fondamenti Firewall</span>
            </div>
            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
              <span style={{ color: colors.textMuted, fontSize: '13px' }}>{current + 1} / {total}</span>
              <div style={{ width: '100px', height: '4px', background: colors.bgLight, borderRadius: '2px' }}>
                <div style={{ height: '100%', width: `${((current + 1) / total) * 100}%`, background: colors.accent, borderRadius: '2px', transition: 'width 0.3s' }} />
              </div>
            </div>
          </div>
          <div style={{ paddingTop: '50px', paddingBottom: '70px', minHeight: 'calc(100vh - 120px)' }}>
            <div style={{ maxWidth: '2200px', width: '94%', margin: '0 auto', padding: '0 24px' }}>
              {slides[current]()}
            </div>
          </div>
          <div style={{ position: 'fixed', bottom: 0, left: 0, right: 0, height: '60px', background: colors.bgCard + 'e0', backdropFilter: 'blur(10px)', borderTop: `1px solid ${colors.border}`, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '16px', zIndex: 100 }}>
            <button onClick={prev} disabled={current === 0} style={{ padding: '10px 24px', background: current === 0 ? colors.bgLight : colors.bgCard, border: `1px solid ${colors.border}`, borderRadius: '8px', color: current === 0 ? colors.textMuted : colors.text, cursor: current === 0 ? 'not-allowed' : 'pointer', fontSize: '14px' }}>‚Üê Indietro</button>
            <button onClick={next} disabled={current === total - 1} style={{ padding: '10px 24px', background: current === total - 1 ? colors.bgLight : `linear-gradient(135deg, ${colors.accent}, ${colors.accentAlt})`, border: 'none', borderRadius: '8px', color: current === total - 1 ? colors.textMuted : '#000', cursor: current === total - 1 ? 'not-allowed' : 'pointer', fontSize: '14px', fontWeight: '600' }}>Avanti ‚Üí</button>
            {current === total - 1 && (
              <a href="modulo2-firewall-types.html" style={{ padding: '10px 24px', background: `linear-gradient(135deg, ${colors.success}, #16a34a)`, border: 'none', borderRadius: '8px', color: '#fff', textDecoration: 'none', fontSize: '14px', fontWeight: '600' }}>Modulo 2 ‚Üí</a>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
